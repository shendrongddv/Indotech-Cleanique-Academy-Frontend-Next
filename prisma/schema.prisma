generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model User {
  id                 String  @id @default(uuid())
  userId             String
  namaLengkap        String? @db.Text
  jenisKelamin       String? @db.Text
  tempatLahir        String? @db.Text
  tanggalLahir       String? @db.Text
  alamatAsal         String? @db.Text
  alamatDomisili     String? @db.Text
  telepon            String? @db.Text
  whatsapp           String? @db.Text
  email              String? @db.Text
  pendidikanTerakhir String? @db.Text
  statusPernikahan   String? @db.Text
  statusPekerjaan    String? @db.Text

  quizes Quiz[]

  role ROLE @default(MEMBER)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Activity {
  id          String  @id @default(uuid())
  title       String
  description String?
  link        String?
  isComplete  Boolean @default(false)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Quiz {
  id    String @id @default(uuid())
  title String

  authorId String?
  user     User?   @relation(fields: [authorId], references: [id])

  questions Question[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([authorId])
}

model Question {
  id    String @id @default(uuid())
  title String

  optionA       String
  optionB       String
  optionC       String?
  optionD       String?
  optionE       String?
  // optionTrue    String?
  // optionFalse   String?
  // optionEssay   String?
  correctAnswer String

  quizId String
  quiz   Quiz   @relation(fields: [quizId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum ROLE {
  ADMIN
  MEMBER
}
